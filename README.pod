=pod

=head1 PostgreSQL Mac Preferences

=begin html

<br />
<img src="https://raw.github.com/mckenfra/postgresql-mac-preferences/master/PostgreSQL/elephant.png" />
<img src="https://raw.github.com/mckenfra/postgresql-mac-preferences/master/PostgreSQL/logo.png" />

=end html

=over 4

=item * L<Overview|/"Overview">

=item * L<Install Instructions|/"Install Instructions">

=item * L<Uninstall Instructions|/"Uninstall Instructions">

=item * L<Upgrading from Older Version|/"Upgrading from Older Version">
    
=item * L<FAQ|/"FAQ">

=item * L<Version History|/"Version History">
        
=item * L<Contact|/"Contact">

=back

=head2 Overview

A Mac OS X System Preferences pane for controlling the PostgreSQL Database Server.
    
Features include:

=over 4

=item *

B<Compatible> with all PostgreSQL installations - including
    
=for html <a href="http://russbrooks.com/2010/11/25/install-postgresql-9-on-os-x">Homebrew</a> and <a href="http://www.postgresql.org/download/macosx/">One click installer</a>
    
=for text Homebrew and One click installer

=item *

Start and stop PostgreSQL Servers at the B<click of a button> - no need for obscure commands

=item *

Set PostgreSQL to B<start automatically> on computer bootup or user login

=item *

Easily change PostgreSQL B<settings> in the GUI

=item *

Control B<multiple> PostgreSQL servers in the same window - B<NEW IN v2.x>

=back

=head3 Main Screen

=begin html

<img src="https://raw.github.com/mckenfra/postgresql-mac-preferences/master/PostgreSQL/screenshot_v2_main.png" />

=end html

=head3 Modify Settings

=begin html

<img src="https://raw.github.com/mckenfra/postgresql-mac-preferences/master/PostgreSQL/screenshot_v2_settings.png" />

=end html

=head3 Log

=begin html

<img src="https://raw.github.com/mckenfra/postgresql-mac-preferences/master/PostgreSQL/screenshot_v2_log.png" />

=end html

=head2 Install Instructions

Steps for installation are as follows:
    
=over 4
    
=item 1
    
Download the latest release version
    
=for html <a href="https://github.com/mckenfra/postgresql-mac-preferences/releases">here</a>

=for text here: https://github.com/mckenfra/postgresql-mac-preferences/releases
    
=item 2
    
Once downloaded, unzip it and then either double-click the C<PostgreSQL.prefPane> file, or drag it to System Preferences to install it.

=item 3
    
When installing, you will be asked if you want to install it for this user only, or for all users. Choose this user only (either option is fine however).

=back
    
=begin html

<img src="https://raw.github.com/mckenfra/postgresql-mac-preferences/master/PostgreSQL/screenshot_install.png" />

=end html

=head2 Uninstall Instructions

=over 4

=item 1 B<Delete all server configurations>

=item * Open C<PostgreSQL Preferences> and click the C<-> button in the servers list for each server

=item 2 B<Uninstall from System Preferences>

=item * Right-click on the C<PostgreSQL icon> in System Preferences, and click C<Remove>

=item 3 B<Delete all server logs>

=item * Delete the following directories if they exist:

C</Library/Logs/PostgreSQL>
C<~/Library/Logs/PostgreSQL>

=back

=head2 Upgrading from Older Version

Please follow the uninstall instructions described

=for html <a href="https://github.com/mckenfra/postgresql-mac-preferences/README-v1">here</a>

=for text here: https://github.com/mckenfra/postgresql-mac-preferences/README-v1

In particular, please ensure you delete the file C<com.hkwebentrepreneurs.postgresql.plist> if it exists in either of these directories:

C</Library/LaunchAgents>
C<~/Library/LaunchAgents>

=back

=head2 FAQ

=over 4

=item * B<In a nutshell, what does this tool do and what does it not do?>

=item * It can start and stop PostgreSQL servers, show their running status, and schedule auto-startup at boot/login. It cannot install PostgreSQL, create database clusters, create databases or run SQL.

=item * B<Can I run multiple instances of PostgreSQL on the same machine?>

=item * Yes - this is new with version 2! Note that each separate instance of PostgreSQL B<must have its own data directory and port>. You can specify a different port in the settings popup. However, to create a separate data directory you must create a new database cluster by running the C<initdb> command, as described in the PostgreSQL documentation.

=item * B<PostgreSQL does not start up.>
    
=item * If you clicked C<Start PostgreSQL>, and the server is stuck with status C<Retrying...>, the first step is to click the C<View Log> button. This will open the default log for the server in Mac OS X's C<Console> log-viewing application. From the log messages, it should be clear what the problem is. For example, the PostgreSQL data directory or port may already be in use by another server.

=item * B<I have selected startup at Login/Boot, but PostgreSQL still does not startup automatically.>
    
=item * First, make sure you can start the server manually using the C<Start PostgreSQL> button. If this works ok, then please file an issue on github and we will investigate.

=item * B<Does this tool affect my existing installations?>
        
=item * No, this tool creates its own C<launchd> configuration files for starting and stopping servers, and leaves all existing configurations untouched.

Note that this means, for example, that there may be other PostgreSQL servers that are configured to startup at system login/boot. For example, a fresh install of PostgreSQL <a href="http://www.enterprisedb.com">www.enterprisedb.com</a> will create a configuration file in C</Library/LaunchDaemons> that will startup a server automatically on boot. To disable this, you can delete the file named C<com.edb.launchd.postgresql*.plist> in that directory.

=item * B<Who is Macca Tech, and why did you make this tool?>

=item * At the moment, <a href="http://www.maccatech.com">Macca Tech Ltd</a> consists of just me, a developer who enjoys creating tools and apps on Mac OS X and iOS. I created this tool partly for fun, and partly because I was using PostgreSQL and found it far too complicated to do something as simple as starting and stopping a database! 

=back    
    
=head2 Version History

=begin html

<table>
<thead>
<tr>
    <th>Version</th>
    <th>Date</th>
    <th>Comments</th>
</tr>
</thead>
<tbody>
<tr>
    <td>v2.0</td>
    <td>22-Jul 2015</td>
    <td>Major Upgrade
        <ul>
        <li>Control multiple servers from a single window</li>
	<li>Start servers at computer bootup (previously only at login)</li>
        <li>Easily debug problems using default server logs</li>
	<li>See running status of servers without entering a password</li>
	<li>Starting/stopping still password-protected</li>
	<li>More code is pure Objective-C, less reliance on shell scripts</li>
        </ul>
    </td>
</tr>
<tr>
    <td>v1.4</td>
    <td>03-Jul 2015</td>
    <td>Bug-fix release
        <ul>
        <li>Fixed auto-start on login if upgrading from older version of pref pane</li>
        <li>Clicking auto-start no longer causes Postgre to startup straightaway</li>
        </ul>
    </td>
</tr>
<tr>
    <td>v1.3</td>
    <td>30-Jun 2015</td>
    <td>Bug-fix release
        <ul>
        <li>Fixed auto-start PostgreSQL on login (OS X 10.10+)</li>
        <li>Fixed description of auto-start function in interface</li>
        <li>Detect errors relating to auto-start and show in interface</li>
        </ul>
    </td>
</tr>
<tr>
    <td>v1.2</td>
    <td>30-Jun 2015</td>
    <td>Bug-fix release
        <ul>
        <li>Fixed auto-start PostgreSQL on login (OS X 10.9)</li>
        </ul>
    </td>
</tr>
<tr>
    <td>v1.1</td>
    <td>17-Oct 2014</td>
    <td>Bug-fix release
        <ul>
        <li>Fixed errors caused by spaces or ~ in paths</li>
        <li>Auto-detect Postgres.app install</li>
        <li>Fixed incompatibility with latest XCode (ARC now mandatory)</li>
        <li><b>Note:</b> requires Mac OS X Lion or newer</li>
        </ul>
    </td>
</tr>
<tr>
    <td>v1.0.1</td>
    <td>10-Mar 2012</td>
    <td>Bug-fix release
        <ul>
        <li>Fixed hard-coded username in start/stop script</li>
        <li>Fixed bug where settings were getting cleared when user re-authorized</li>
        </ul>
    </td>
</tr>
<tr>
    <td>v1.0</td>
    <td>29-Dec 2011</td>
    <td>Initial Release</td>
</tr>
</tbody>
</table>

=end html

=head2 Contact

=for html Please email any feedback to <a href="mailto:info@maccatech.com">info@maccatech.com</a>

=for text Please email any feedback to email@maccatech.com

=head2 Links

=begin html

<ul>
    <li><a href="http://www.postgresql.org">www.postgresql.org</a></li>

    <li>Man pages for <a href="https://developer.apple.com/library/mac/documentation/Darwin/Reference/ManPages/man8/launchd.8.html">launchd</a> and <a href="https://developer.apple.com/library/mac/#documentation/Darwin/Reference/ManPages/man1/launchctl.1.html">launchctl</a></li>

    <li><a href="http://www.maccatech.com">www.maccatech.com</a></li>
</ul>

=end html

=cut
